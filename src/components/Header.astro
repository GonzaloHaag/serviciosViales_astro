---
import HeaderMobile from "../components/HeaderMobile.astro";
import BuscadorPorCodigo from "./BuscadorPorCodigo.astro";
const urlActual = Astro.url.pathname;
---

<header class="hidden lg:flex flex-col sticky w-full z-10 top-0">
    <div class="w-full bg-sv-negro text-white min-h-8 flex items-center">
        <div class="w-full px-4 xl:container xl:px-0 xl:mx-auto">
            <p>+54 9 (342) 631-1894 | contacto@serviciosviales.com.ar</p>
        </div>
    </div>

    <div class="bg-white w-full min-h-24 flex items-center">
        <div
            class="w-full px-4 xl:container xl:px-0 xl:mx-auto flex items-center justify-between"
        >
            <div class="flex 2xl:flex-grow 2xl:basis-0">
                <a href="/" title="Logo servicios Viales">
                    <img
                        src="/assets/LOGO-SV-COLOR.webp"
                        alt="logo Servicios Viales"
                        width="200"
                        height="200"
                    />
                </a>
            </div>
            <nav class="">
                <ul
                    class="flex items-center gap-x-5 font-semibold text-sv-blue"
                >
                    <li
                        class={`relative nav-item ${urlActual === "/" ? "underline underline-offset-4" : "nav-item-underline-slide"}`}
                    >
                        <a href="/" title="Inicio">Inicio</a>
                    </li>
                    <li
                        class={`relative nav-item ${urlActual === "/productos/" ? "underline underline-offset-4" : "nav-item-underline-slide"}`}
                    >
                        <a
                            href="/productos"
                            title="Productos"
                            class="flex items-center gap-1"
                            >Productos<svg
                                class="w-3 h-3 fill-current"
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 512 512"
                            >
                                <path
                                    d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"
                                ></path></svg
                            >
                        </a>
                        <ul class="submenu">
                            <li>
                                <a
                                    href="/productos/filtros-y-accesorios"
                                    class={`transition-colors duration-300 ${urlActual === "/productos/filtros-y-accesorios/" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Filtros y accesorios</a
                                >
                            </li>
                            <li>
                                <a
                                    href="/productos/repuestos-y-accesorios"
                                    class={`transition-colors duration-300 ${urlActual === "/productos/repuestos-y-accesorios/" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Repuestos y accesorios</a
                                >
                            </li>
                            <li>
                                <a
                                    href="/productos/herramientas-de-corte"
                                    class={`transition-colors duration-300 ${urlActual === "/productos/herramientas-de-corte/" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Herramientas de Corte</a
                                >
                            </li>
                            <li>
                                <a
                                    href="/productos/tren-rodante"
                                    class={`transition-colors duration-300 ${urlActual === "/productos/tren-rodante/" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Tren Rodante</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li
                        class={`relative nav-item ${urlActual === "/servicios/" ? "underline underline-offset-4" : "nav-item-underline-slide"}`}
                    >
                        <a
                            href="/servicios"
                            title="Servicios"
                            class="flex items-center gap-1"
                            >Servicios<svg
                                class="w-3 h-3 fill-current"
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 512 512"
                            >
                                <path
                                    d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"
                                ></path></svg
                            ></a
                        >
                        <ul class="submenu">
                            <li>
                                <a
                                    href="/servicios/#plataformas-de-elevacion"
                                    class={`transition-colors duration-300 ${urlActual === "/servicios/#plataformas-de-elevacion" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Plataformas de elevación</a
                                >
                            </li>
                            <li>
                                <a
                                    href="/servicios/#manipuladores-telescópicos"
                                    class={`transition-colors duration-300 ${urlActual === "/servicios/#manipuladores-telescópicos" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Manipuladores telescópicos</a
                                >
                            </li>
                            <li>
                                <a
                                    href="/servicios/#equipos-varios"
                                    class={`transition-colors duration-300 ${urlActual === "/servicios/#equipos-varios" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Equipos varios</a
                                >
                            </li>
                            <li>
                                <a
                                    href="/servicios/#grupos-electrógenos"
                                    class={`transition-colors duration-300 ${urlActual === "/servicios/#grupos-electrógenos" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Grupos electrógenos</a
                                >
                            </li>
                            <li>
                                <a
                                    href="/servicios/#accesorios"
                                    class={`transition-colors duration-300 ${urlActual === "/servicios/#accesorios" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Accesorios</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li
                        class={`relative nav-item ${urlActual === "/nosotros/" ? "underline underline-offset-4" : "nav-item-underline-slide"}`}
                    >
                        <a
                            href="/nosotros"
                            title="Nosotros"
                            class="flex items-center gap-1"
                            >Nosotros<svg
                                class="w-3 h-3 fill-current"
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 512 512"
                            >
                                <path
                                    d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"
                                ></path></svg
                            ></a
                        >
                        <ul class="submenu">
                            <li>
                                <a
                                    href="/nosotros"
                                    class={`transition-colors duration-300 ${urlActual === "/nosotros/" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Nuestra historia</a
                                >
                            </li>
                            <li>
                                <a
                                    href="/nosotros/ferias-y-eventos"
                                    class={`transition-colors duration-300 ${urlActual === "/nosotros/ferias-y-eventos/" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Ferias y eventos</a
                                >
                            </li>
                            <li>
                                <a
                                    href="/nosotros/trabaja-con-nosotros"
                                    class={`transition-colors duration-300 ${urlActual === "/nosotros/trabaja-con-nosotros/" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Trabaja con nosotros</a
                                >
                            </li>
                            <li>
                                <a
                                    href="/programa-de-beneficios"
                                    class={`transition-colors duration-300 ${urlActual === "/programa-de-beneficios" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Programa de beneficios</a
                                >
                            </li>
                        </ul>
                    </li>
                    <!-- <li>
                        <a href="/blog" title="Inicio">Blog</a>
                    </li> -->
                    <li
                        class={`relative nav-item ${urlActual === "/contacto/" ? "underline underline-offset-4" : "nav-item-underline-slide"}`}
                    >
                        <a
                            href="/contacto"
                            title="contacto"
                            class="flex items-center gap-1"
                            >Contacto<svg
                                class="w-3 h-3 fill-current"
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 512 512"
                            >
                                <path
                                    d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"
                                ></path></svg
                            ></a
                        >
                        <ul class="submenu">
                            <li>
                                <a
                                    href="/contacto/preguntas-frecuentes"
                                    class={`transition-colors duration-300 ${urlActual === "/contacto/preguntas-frecuentes/" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Preguntas frecuentes</a
                                >
                            </li>
                            <li>
                                <a
                                    href="/contacto/#atención-al-cliente"
                                    class={`transition-colors duration-300 ${urlActual === "/contacto/#atencion-al-cliente" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Atención al cliente</a
                                >
                            </li>
                            <li>
                                <a
                                    href="/contacto/#solicitud-de-piezas"
                                    class={`transition-colors duration-300 ${urlActual === "/contacto/#solicitud-de-piezas" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Solicitud de piezas</a
                                >
                            </li>
                            <li>
                                <a
                                    href="/contacto/#encuesta-de-satisfacción"
                                    class={`transition-colors duration-300 ${urlActual === "/contacto/#encuesta-de-satisfacción" ? "text-sv-blue" : "text-sv-negro"}`}
                                    >Encuesta de satisfacción</a
                                >
                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>

            <div
                class="flex justify-end 2xl:flex-grow 2xl:basis-0 gap-5 relative"
            >
                <a
                    class="btn-primary"
                    href="https://portal.sv.com.ar/buscadorpublico.aspx?"
                    target="_blank"
                    rel="noreferrer">Portal</a
                >
              <BuscadorPorCodigo />
            </div>
        </div>
    </div>
</header>
<HeaderMobile />
<style>
    .btn-primary {
        @apply bg-sv-blue text-white font-medium px-8 py-3 rounded-full transition-colors duration-300 cursor-pointer;
    }
    .btn-primary:hover {
        @apply bg-sv-negro;
    }

    .submenu {
        @apply invisible opacity-0 absolute left-0 top-6 transition-all duration-300 bg-white px-8 py-3 pt-5 w-max shadow-xl flex flex-col gap-5 rounded-md;
    }

    .submenu > li > a:hover {
        @apply text-sv-blue;
    }
    .nav-item-underline-slide::after {
        @apply content-[''] absolute h-[1px] left-0 bottom-[2px] w-0 bg-sv-blue ease-in-out duration-300;
    }
    .nav-item-underline-slide:hover::after {
        @apply w-[100%];
    }
    .nav-item:hover .submenu {
        @apply visible opacity-100;
    }
   
</style>
